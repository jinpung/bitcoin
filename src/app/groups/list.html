<div class="row wrapper border-bottom white-bg page-heading">
  <div class="col-lg-12">
    <h2>
      <strong>매장관리</strong>
      <a ui-sref="app.group-edit" class="btn btn-primary pull-right btn-sm btn-group-manage" >
        <i class="fa fa-plus"></i> 매장추가
      </a>
      <a ui-sref="app.users" class="btn btn-default pull-right btn-sm btn-group-manage" >
        <i class="fa fa-users"></i> 유저목록보기
      </a>
    </h2>
  </div>
</div>
</div>

<div class="wrapper wrapper-content  animated fadeInRight">
  <div class="row text-center">
    <div class="col-lg-12 col-md-12">
      <div class="ibox">
        <div class="ibox-content">
          <div class="clients-list">
            <div class="table-responsive">
              <table class="group-list table table-striped table-hover">
                <thead>
                  <tr>
                    <th>#</th>
                    <th>매장 이름</th>
                    <th>매장 관리자</th>
                    <th>신규가입 URL</th>
                    <th>매장회원 리스트</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody>
                  <tr ng-repeat="(key, value) in groupCtrl.listData track by value.id">
                    <td>{{$index + 1}}</td>
                    <td>{{value.group_name}}</td>
                    <td>
                      <span ng-repeat="user in value.admins">
                        {{user.username}}({{user.first_name}})&nbsp;
                      </span>
                    </td>
                    <td><a ng-href="{{groupCtrl.getURL(value.group_name)}}" target="_blank">{{groupCtrl.getURL(value.group_name)}}</a></td>
                    <td style="max-width:300px;">
                      <a ng-click="value.showUsers=true" ng-hide="value.showUsers==true">{{value.users.length}} User(s)</a>
                      <span ng-show="value.showUsers==true">
                        <span ng-repeat="user in value.users">
                          {{user.username}}({{user.first_name}})&nbsp;
                        </span>
                        <a ng-click="value.showUsers=false">   <<<</a></span>
                      </span>
                    </td>
                    <td>
                      <button class="btn btn-white btn-sm" ui-sref="app.group-edit({id:value.id})"><i class="fa fa-edit"></i> 편집</button>
                      <button class="btn btn-white btn-sm" ng-click="groupCtrl.delGroup(value)"><i class="fa fa-trash"></i> 삭제</button>
                    </td>
                  </tr>
                  <tr ng-show="groupCtrl.listData.length === 0">
                    <td colspan="5" class="text-center">등록된 그릅이 없습니다.</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>